<div class="chat-shell">
  <div class="chat-header">
    <div class="chat-title">
      <div class="dot"></div>
      <div>
        <div class="title">HelpDesk Bot</div>
        <div class="subtitle">CrÃ©ation & suivi de tickets</div>
      </div>
    </div>
    <div class="chat-actions">
      <button type="button" class="icon-btn" title="Effacer" (click)="messages=[]">
        ğŸ—‘ï¸
      </button>
    </div>
  </div>

  <div class="chat-body">
    <div *ngFor="let m of messages" class="bubble-row" [class.me]="m.role==='user'">
      <div class="bubble">
        <div class="meta">{{ m.role === 'user' ? 'Moi' : 'Bot' }}</div>
        <div class="text" style="white-space:pre-wrap">{{ m.content }}</div>
      </div>
    </div>
  </div>

  <form class="chat-bar" (ngSubmit)="send()">
    <input
      class="chat-input"
      [(ngModel)]="text"
      name="text"
      placeholder="DÃ©cris ton problÃ¨meâ€¦"
      required
      [disabled]="loading"
    />
    <button class="send-btn" type="submit" [disabled]="loading || !text.trim()">
      {{ loading ? '...' : 'Envoyer' }}
    </button>
  </form>
</div>
